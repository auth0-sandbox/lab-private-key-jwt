extends layout

block content
    .content
        h1 Expense Report
        p
            | Hello
            |
            if user
                a(href='/user')=user.name
            else
                | Anonymous
            |,
        if user
            if expenses == null 
                p Internal error retrieving expenses.
            else if expenses.length == 0
                p You have no expenses.
            else
                p You have recorded the following expenses:
                    table(border='1')
                        tr
                            each key in Object.keys(expenses[0])
                                th
                                    strong=key
                        each expense in expenses
                            tr
                            each key in Object.keys(expense)
                                td=expense[key]
                    p Don't spend too much.
        else
            p Please sign on to see your personal expenses.